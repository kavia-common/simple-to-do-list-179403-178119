{"is_source_file": true, "format": "JavaScript", "description": "This file manages the interaction with a SQLite database embedded in the browser using sql.js. It initializes the database, applies schema, and provides functions for CRUD operations on tasks within a to-do list application.", "external_files": ["../utils/storage"], "external_methods": ["getDbBytes", "setDbBytes"], "published": ["initDB", "listTasks", "addTask", "updateTask", "toggleComplete", "deleteTask"], "classes": [], "methods": [{"name": "ensureDB()", "description": "Loads sql.js, initializes the singleton database, and restores or creates the database schema.", "scope": "", "scopeKind": ""}, {"name": "persist()", "description": "Exports the current database state and saves it to IndexedDB.", "scope": "", "scopeKind": ""}, {"name": "initDB()", "description": "Public API to initialize and set up the database.", "scope": "", "scopeKind": ""}, {"name": "listTasks()", "description": "Retrieves all tasks from the database ordered by creation date.", "scope": "", "scopeKind": ""}, {"name": "addTask(title)", "description": "Inserts a new task into the database and returns the inserted task object.", "scope": "", "scopeKind": ""}, {"name": "updateTask(id, title)", "description": "Updates the title of an existing task identified by its id.", "scope": "", "scopeKind": ""}, {"name": "toggleComplete(id, completed)", "description": "Sets the completed status of a task identified by its id.", "scope": "", "scopeKind": ""}, {"name": "deleteTask(id)", "description": "Removes a task from the database by its id.", "scope": "", "scopeKind": ""}], "calls": ["getDbBytes", "setDbBytes", "SQL.Database", "SQL.Database#run", "db.exec", "db.prepare", "stmt.bind", "stmt.step", "stmt.free"], "search-terms": ["sqliteClient", "database schema", "tasks table", "IndexedDB", "sql.js", "javascript database abstraction"], "state": 2, "file_id": 20, "knowledge_revision": 51, "git_revision": "", "revision_history": [{"45": ""}, {"47": ""}, {"50": ""}, {"51": ""}], "ctags": [{"_type": "tag", "name": "DDL", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-179403-178119/todo_frontend/src/db/sqliteClient.js", "pattern": "/^const DDL = `$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "SQL", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-179403-178119/todo_frontend/src/db/sqliteClient.js", "pattern": "/^let SQL = null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "addTask", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-179403-178119/todo_frontend/src/db/sqliteClient.js", "pattern": "/^export async function addTask(title) {$/", "language": "JavaScript", "kind": "function", "signature": "(title)"}, {"_type": "tag", "name": "db", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-179403-178119/todo_frontend/src/db/sqliteClient.js", "pattern": "/^let db = null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "deleteTask", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-179403-178119/todo_frontend/src/db/sqliteClient.js", "pattern": "/^export async function deleteTask(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "ensureDB", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-179403-178119/todo_frontend/src/db/sqliteClient.js", "pattern": "/^async function ensureDB() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "initDB", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-179403-178119/todo_frontend/src/db/sqliteClient.js", "pattern": "/^export async function initDB() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listTasks", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-179403-178119/todo_frontend/src/db/sqliteClient.js", "pattern": "/^export async function listTasks() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "persist", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-179403-178119/todo_frontend/src/db/sqliteClient.js", "pattern": "/^async function persist() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "toggleComplete", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-179403-178119/todo_frontend/src/db/sqliteClient.js", "pattern": "/^export async function toggleComplete(id, completed) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, completed)"}, {"_type": "tag", "name": "updateTask", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-179403-178119/todo_frontend/src/db/sqliteClient.js", "pattern": "/^export async function updateTask(id, title) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, title)"}], "hash": "29e26e94ca069e8025f5b5e1c5a5a075", "format-version": 4, "code-base-name": "todo_frontend", "filename": "todo_frontend/src/db/sqliteClient.js", "fields": [{"name": "let SQL = null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let db = null;", "scope": "", "scopeKind": "", "description": "unavailable"}]}